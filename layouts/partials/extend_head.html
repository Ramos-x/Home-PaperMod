{{- /* Head custom content area start */ -}}
{{- /*     Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
{{- /*     Can be overwritten by partial with the same name in the global layouts. */ -}}
<script defer src="https://cloud.umami.is/script.js" data-website-id="68d10b96-557c-4632-846f-9865e613151c"></script>

    <div id="progress-bar"></div>
    <div id="transition-image"></div>
    
    <script>
//==============打开页面加载动效
// // 当点击链接时，显示图片和进度条
// document.querySelectorAll('a').forEach(function(link) {
//     link.addEventListener('click', function(e) {
//         e.preventDefault();
//         var href = this.href;
//         var transitionImage = document.getElementById('transition-image');
//         var progressBar = document.getElementById('progress-bar');
//         transitionImage.style.display = '';
//         transitionImage.style.opacity = '1';
//         progressBar.style.width = '100%';
//         window.location.href = href;
//     });
// });

// 在新的网页加载时，显示图片和进度条
document.addEventListener('DOMContentLoaded', function() {
    // var transitionImage = document.getElementById('transition-image');
    var progressBar = document.getElementById('progress-bar');
    // transitionImage.style.transition = '.85s cubic-bezier(0,.5,.5,1)!important;'
    // transitionImage.style.opacity = '0'; // 设置透明度为0
    
    // setTimeout(function() {
    //     transitionImage.style.display = 'none';
    // }, 900);
    progressBar.style.width = '50%';
    window.onload = function() {
        progressBar.style.width = '100%';
        setTimeout(function() {
            setTimeout(function() {
                progressBar.style.height = '0';
                setTimeout(function() {
                    progressBar.style.display = 'none';
                }, 900);
            }, 900);
        }, 900);
    };

    

    var main1 = document.querySelectorAll('.main > *');
    main1.forEach(function(element, index) {
        setTimeout(function() {
            element.classList.add('loaded');
        }, 250 * index);
    });
    var acrive1 = document.querySelectorAll('.archive-posts >*');
    acrive1.forEach(function(element, index) {
        setTimeout(function() {
            element.classList.add('loaded');
        }, 100 * index);
    });
    var page1 = document.querySelectorAll('.post > *');
    page1.forEach(function(element, index) {
        setTimeout(function() {
            element.classList.add('loaded');
        }, 100 * index);
    });
    var post1 = document.querySelectorAll('.post-content > *');
    post1.forEach(function(element, index) {
        setTimeout(function() {
            element.classList.add('loaded');
        }, 100 * index);
    });
});

</script>
<style>
/* ========== transition-image ========== */
#progress-bar {
  position: fixed;
  top: 0; 
  left: 0;
  width: 0vmin;
  height: 1px;
  background: linear-gradient(to right, red, orange, yellow, green, blue, indigo);
  z-index: 9000;
  transition: .45s cubic-bezier(0,.5,.5,1)!important;
}
/* @media (prefers-color-scheme: light) {
  #transition-image {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('/static/img/avatar_head.png') no-repeat center center, url('/static/img/grid.png');
    background-size: 15vmin auto, cover;
    z-index: 9000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
  }
}
@media (prefers-color-scheme: dark) {
  #transition-image {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('/static/img/avatar_head.png') no-repeat center center, url('/static/img/grid_dark.png');
    background-size: 20% auto, cover;
    z-index: 9000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
  }
} */
</style>
{{- /* Head custom content area end */ -}}
